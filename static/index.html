<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Poker Chip Distribution Calculator</title>
        <link rel="stylesheet" href="/static/styles.css" />
    </head>
    <body>
        <div class="container">
            <!-- Header -->
            <header class="header">
                <div class="header-content">
                    <div class="logo">
                        <svg
                            class="chip-icon"
                            viewBox="0 0 100 100"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <circle
                                cx="50"
                                cy="50"
                                r="45"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="3"
                            />
                            <circle
                                cx="50"
                                cy="50"
                                r="35"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            />
                            <circle
                                cx="50"
                                cy="50"
                                r="25"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="1.5"
                            />
                            <text
                                x="50"
                                y="58"
                                font-size="24"
                                text-anchor="middle"
                                fill="currentColor"
                                font-weight="bold"
                            >
                                ♠
                            </text>
                        </svg>
                        <h1>Poker Chip Distribution</h1>
                    </div>
                    <p class="subtitle">
                        Calculate optimal chip distribution for your home poker
                        game
                    </p>
                </div>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Configuration Form -->
                <section class="card form-section">
                    <h2>Game Configuration</h2>

                    <form id="distributionForm">
                        <!-- Number of Players -->
                        <div class="form-group">
                            <label for="numPlayers">
                                Number of Players
                                <span
                                    class="tooltip"
                                    data-tooltip="Enter the number of players (1-20)"
                                    >ⓘ</span
                                >
                            </label>
                            <input
                                type="number"
                                id="numPlayers"
                                min="1"
                                max="20"
                                value="6"
                                required
                            />
                        </div>

                        <!-- Buy-in Amount -->
                        <div class="form-group">
                            <label for="buyInAmount">
                                Buy-in Amount (PLN)
                                <span
                                    class="tooltip"
                                    data-tooltip="Amount each player will buy in for"
                                    >ⓘ</span
                                >
                            </label>
                            <input
                                type="number"
                                id="buyInAmount"
                                min="1"
                                step="0.01"
                                value="100"
                                required
                            />
                        </div>

                        <!-- Variable Buy-ins Toggle -->
                        <div class="form-group checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="variableBuyIns" />
                                <span>Variable buy-ins per player</span>
                            </label>
                        </div>

                        <!-- Variable Buy-ins Container (hidden by default) -->
                        <div
                            id="variableBuyInsContainer"
                            class="variable-buyins"
                            style="display: none"
                        >
                            <div id="buyInsList"></div>
                        </div>

                        <!-- Blind Structure -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="smallBlind">
                                    Small Blind (PLN) - Optional
                                    <span
                                        class="tooltip"
                                        data-tooltip="Small blind value in real money (auto-calculated if left empty)"
                                        >ⓘ</span
                                    >
                                </label>
                                <input
                                    type="number"
                                    id="smallBlind"
                                    min="0.01"
                                    step="0.01"
                                    placeholder="Auto-calculate"
                                />
                            </div>

                            <div class="form-group">
                                <label for="bigBlind">
                                    Big Blind (PLN) - Optional
                                    <span
                                        class="tooltip"
                                        data-tooltip="Big blind value in real money (auto-calculated if left empty)"
                                        >ⓘ</span
                                    >
                                </label>
                                <input
                                    type="number"
                                    id="bigBlind"
                                    min="0.01"
                                    step="0.01"
                                    placeholder="Auto-calculate"
                                />
                            </div>
                        </div>

                        <!-- Advanced Options Toggle -->
                        <div class="advanced-toggle">
                            <button
                                type="button"
                                id="advancedToggle"
                                class="btn-link"
                            >
                                <span>Advanced Options</span>
                                <svg
                                    class="chevron"
                                    viewBox="0 0 20 20"
                                    fill="currentColor"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                        clip-rule="evenodd"
                                    />
                                </svg>
                            </button>
                        </div>

                        <!-- Advanced Options (hidden by default) -->
                        <div
                            id="advancedOptions"
                            class="advanced-options"
                            style="display: none"
                        >
                            <div class="form-group">
                                <label for="forceMultiplier">
                                    Force Multiplier (Optional)
                                    <span
                                        class="tooltip"
                                        data-tooltip="Force a specific chip value multiplier (e.g., 0.01, 0.1, 1)"
                                        >ⓘ</span
                                    >
                                </label>
                                <input
                                    type="number"
                                    id="forceMultiplier"
                                    min="0.001"
                                    step="0.001"
                                    placeholder="Auto-calculate"
                                />
                            </div>

                            <div class="form-group">
                                <label for="maxAlternatives">
                                    Max Alternatives
                                    <span
                                        class="tooltip"
                                        data-tooltip="Maximum number of alternative distributions to show"
                                        >ⓘ</span
                                    >
                                </label>
                                <input
                                    type="number"
                                    id="maxAlternatives"
                                    min="1"
                                    max="10"
                                    value="5"
                                    required
                                />
                            </div>

                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input
                                        type="checkbox"
                                        id="includeAlternatives"
                                        checked
                                    />
                                    <span
                                        >Include alternative distributions</span
                                    >
                                </label>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button
                            type="submit"
                            class="btn btn-primary"
                            id="calculateBtn"
                        >
                            <svg
                                class="btn-icon"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                            >
                                <path
                                    fill-rule="evenodd"
                                    d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z"
                                    clip-rule="evenodd"
                                />
                            </svg>
                            Calculate Distribution
                        </button>
                    </form>
                </section>

                <!-- Results Section -->
                <section
                    id="resultsSection"
                    class="results-section"
                    style="display: none"
                >
                    <!-- Recommendation Banner -->
                    <div id="recommendationBanner" class="banner"></div>

                    <!-- Optimal Distribution -->
                    <div class="card result-card">
                        <div class="result-header">
                            <h2>Optimal Distribution</h2>
                            <span id="optimalBadge" class="badge"></span>
                        </div>
                        <div id="optimalResult"></div>
                    </div>

                    <!-- Alternative Distributions -->
                    <div id="alternativesContainer" style="display: none">
                        <h2 class="alternatives-title">
                            Alternative Distributions
                        </h2>
                        <div id="alternativesList"></div>
                    </div>
                </section>

                <!-- Loading Spinner -->
                <div
                    id="loadingSpinner"
                    class="loading-spinner"
                    style="display: none"
                >
                    <div class="spinner"></div>
                    <p>Calculating optimal distribution...</p>
                </div>

                <!-- Error Message -->
                <div
                    id="errorMessage"
                    class="error-message"
                    style="display: none"
                ></div>
            </main>

            <!-- Footer -->
            <footer class="footer">
                <div class="footer-content">
                    <p>Made with ♠ for home poker games</p>
                    <div class="footer-links">
                        <a href="/docs" target="_blank">API Docs</a>
                        <a href="/api" target="_blank">API Info</a>
                        <a href="#" id="inventoryLink">View Inventory</a>
                    </div>
                </div>
            </footer>
        </div>

        <!-- Inventory Modal -->
        <div id="inventoryModal" class="modal" style="display: none">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Chip Inventory</h2>
                    <button class="modal-close" id="closeModal">&times;</button>
                </div>
                <div class="modal-body" id="inventoryContent">
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                    </div>
                </div>
            </div>
        </div>

        <script src="/static/app.js"></script>
    </body>
</html>
